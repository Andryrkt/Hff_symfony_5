services:
  # Services de migration de donn√©es
  App\Service\Migration\Hf\Rh\Dom\DomMigrationMapper:
    arguments:
      $logger: '@monolog.logger.migration_dom'

  App\Service\Migration\Admin\PersonnelUser\PersonnelMigrationMapper:
    arguments:
      $logger: '@monolog.logger.migration_personnel'

  App\Service\Migration\Admin\PersonnelUser\UserMigrationMapper:
    arguments:
      $logger: '@monolog.logger.migration_user'

  App\Command\Migration\Hf\Rh\Dom\MigrateDomDataCommand:
    arguments:
      $legacyConnection: '@doctrine.dbal.legacy_connection'
      $mapper: '@App\Service\Migration\Hf\Rh\Dom\DomMigrationMapper'
      $migrationDomLogger: '@monolog.logger.migration_dom'
    tags:
      - { name: 'console.command' }

  App\Command\Migration\Admin\PersonnelUser\MigratePersonnelDataCommand:
    arguments:
      $em: '@doctrine.orm.entity_manager'
      $legacyHffConnection: '@doctrine.dbal.legacy_hff_connection'
      $legacyAirwaysConnection: '@doctrine.dbal.legacy_airways_connection'
      $mapper: '@App\Service\Migration\Admin\PersonnelUser\PersonnelMigrationMapper'
      $migrationLogger: '@monolog.logger.migration_personnel'
    tags:
      - { name: 'console.command' }

  App\Command\Migration\Admin\PersonnelUser\MigrateUserDataCommand:
    arguments:
      $em: '@doctrine.orm.entity_manager'
      $legacyFetcher: '@App\Service\Migration\Utils\LegacyDataFetcher'
      $mapper: '@App\Service\Migration\Admin\PersonnelUser\UserMigrationMapper'
      $migrationLogger: '@monolog.logger.migration_user'
    tags:
      - { name: 'console.command' }

  App\Command\Migration\Hf\Materiel\Badm\MigrateBadmDataCommand:
    arguments:
      $legacyConnection: '@doctrine.dbal.legacy_connection'
      # Mapper autowired via default
    tags:
      - { name: 'console.command' }