services:
  # Services de migration de donn√©es
  App\Service\Migration\Hf\Rh\Dom\DomMigrationMapper:
    arguments:
      $logger: '@monolog.logger.migration_dom'

  App\Service\Migration\Admin\PersonnelUser\PersonnelMigrationMapper:
    arguments:
      $logger: '@monolog.logger.migration_dom'

  App\Command\Migration\MigrateDomDataCommand:
    arguments:
      $legacyConnection: '@doctrine.dbal.legacy_connection'
      $mapper: '@App\Service\Migration\Hf\Rh\Dom\DomMigrationMapper'
      $migrationDomLogger: '@monolog.logger.migration_dom'
    tags:
      - { name: 'console.command' }

  App\Command\Migration\MigratePersonnelDataCommand:
    arguments:
      $em: '@doctrine.orm.entity_manager'
      $legacyHffConnection: '@doctrine.dbal.legacy_hff_connection'
      $legacyAirwaysConnection: '@doctrine.dbal.legacy_airways_connection'
      $mapper: '@App\Service\Migration\Admin\PersonnelUser\PersonnelMigrationMapper'
      $migrationLogger: '@monolog.logger.migration_dom'
    tags:
      - { name: 'console.command' }
