{% extends "base.html.twig"%}

{% block title %}
	Erreur
	{{ status_code }}
{% endblock %}

{% block nav %}{% endblock %}

{% block stylesheets %}
	{{ encore_entry_link_tags('app') }}
{% endblock %}

{% block breadCrumb %}{% endblock %}

{% block content %}
	<div id="notfound">
		<div class="notfound-bg">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
		<div class="notfound">
			<div class="notfound-404">
				<h1>{{ status_code }}</h1>
			</div>
			<h2>{{ status_text }}</h2>
			<p>
				{% if status_code >= 500 %}
					Une erreur inattendue est survenue sur le serveur.
				{% else %}
					Un problème est survenu lors du traitement de votre requête.
				{% endif %}

				{% if app.debug and status_code >= 500 and exception is defined %}
					<div class="error-message">
						<strong>Détails techniques :</strong>
						<div class="mt-3">{{ exception.message }}</div>

						<div class="row mt-3">
							<div class="col-lg-6 col-md-12">
								<div class="p-2 bg-light rounded mt-2">
									<strong>Fichier :</strong><br>
									<small class="text-muted">{{ exception.file }}</small><br>
									<strong>Ligne :</strong>
									{{ exception.line }}
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								{% if exception.previous %}
									<div class="p-2 bg-light rounded mt-2">
										<strong>Erreur précédente :</strong><br>
										<small class="text-muted">{{ exception.previous.message }}</small>
									</div>
								{% endif %}
							</div>
						</div>

						<div class="mt-3">
							<details>
								<summary>
									<strong>Stack Trace (cliquer pour voir)</strong>
								</summary>
								<pre class="mt-2 p-3 bg-dark text-light rounded" style="font-size: 11px; max-height: 400px; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word;">{{ exception.traceAsString }}</pre>
							</details>
						</div>
					</div>
				{% elseif status_code >= 500 %}
					<p class="mt-3">Notre équipe technique a été notifiée et s'efforce de résoudre le problème.</p>
				{% endif %}
			</p>
			<a href="{{ path("home_index") }}">
				<i class="fas fa-arrow-left-long pe-2"></i>
				Accueil
			</a>
		</div>
	</div>
{% endblock %}

{% block javascript %}{% endblock %}
