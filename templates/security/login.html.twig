<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"
		integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link href="{{ asset('build/images/favicon.jpg') }}" type="image/x-icon" rel="shortcut icon">
	<title>HFF Intranet | Authentification</title>
	<style>
		#intro {
			height: 100vh;
		}

		#Logo {
			margin-left: 10%;
			margin-bottom: 5%;
		}

		.notice {
			background-color: #fbbb01;
			border-left: 4px solid #000000;
			padding: 10px 15px;
			margin: 20px 0;
			font-family: Arial, sans-serif;
			color: #000000;
			border-radius: 4px;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
			display: flex;
			align-items: center;
		}

		.notice-icon {
			margin-right: 10px;
			color: #000000;
			font-size: 24px;
		}

		.notice-content {
			flex: 1;
		}

		.input-group #password.form-control {
			border-right: none;
		}

		.input-group .input-group-text {
			border-left: none;
			width: 2rem;
			padding: 0;
			display: flex;
			justify-content: center;
			align-items: center;
			cursor: pointer;
		}

		.input-group .form-control:focus {
			z-index: 3;
		}
	</style>
</head>

<body>
	<div id="intro" class="bg-image shadow-2-strong">
		<div class="mask d-flex align-items-center h-100">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-xl-5 col-md-8">
						<form class="bg-white rounded p-5 shadow" style="opacity: 85%" method="POST"
							action="{{ path('app_login') }}">
							<img src="{{ asset('build/images/logoHFF.jpg') }}" class="img-rounded" id="Logo" />

							{% if error %}
							<div class="alert alert-danger">
								{{ error.messageKey|trans(error.messageData, 'security') }}
							</div>
							{% endif %}

							<div class="form-outline mb-4" data-mdb-input-init>
								<label class="form-label" for="username">Utilisateur</label>
								<div class="input-group">
									<input type="text" id="username" class="form-control" name="_username"
										value="{{ last_username }}" required />
								</div>
							</div>

							<div class="form-outline mb-4" data-mdb-input-init>
								<label class="form-label" for="password">Mot de passe</label>
								<div class="input-group">
									<input type="password" id="password" class="form-control" name="_password"
										required />
									<span class="input-group-text" id="toggleIconContainer" data-bs-toggle="tooltip"
										data-bs-original-title="Afficher le mot de passe">
										<i class="fa fa-eye-slash cursor-pointer" id="toggleIcon"
											style="font-size: 0.7875rem; color: #6c757d;" aria-hidden="true"></i>
									</span>
								</div>
							</div>

							<button type="submit" class="btn" style="background-color: black; color: white">
								Se connecter
							</button>
						</form>

						<div class="notice">
							<span class="notice-icon">
								<i class="fas fa-info-circle"></i>
							</span>
							<div class="notice-content">
								L'identifiant et le mot de passe sont le nom d'utilisateur et le mot de passe que vous
								utilisez pour vous connecter Ã  votre ordinateur.
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const toggleContainer = document.getElementById("toggleIconContainer");

			toggleContainer.addEventListener("click", function () {
				const passwordInput = document.getElementById("password");
				const toggleIcon = document.getElementById("toggleIcon");
				const isPasswordHidden = passwordInput.type === "password";
				passwordInput.type = isPasswordHidden ? "text" : "password";
				toggleContainer.dataset.bsOriginalTitle = isPasswordHidden
					? "Masquer le mot de passe"
					: "Afficher le mot de passe";
				toggleIcon.classList.toggle("fa-eye");
				toggleIcon.classList.toggle("fa-eye-slash");
			});

			localStorage.clear();
		});
	</script>
</body>

</html>